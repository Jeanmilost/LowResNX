'***************************************
'THE LANDSCAPE, DEEP PARALLAX SCROLLING
'ASSET, BY JEAN-MILOST REYMOND
'***************************************

GLOBAL SCROLLSTART, SCROLLEND, SCROLLHEIGHT, SCROLLSPEED

'SCROLL VALUES, MUST BE GLOBAL
SCROLLSTART  = 96
SCROLLEND    = 128
SCROLLHEIGHT = SCROLLEND - (SCROLLSTART - 1)
SCROLLSPEED  = 0.75

'***************************************
'MAIN FUNCTION
'***************************************
MAIN:
    CALL CREATELANDSCAPE

    DO
        WAIT VBL
    LOOP

'***************************************
'CREATE THE LANDSCAPE
'***************************************
SUB CREATELANDSCAPE
    'DRAW THE SCENE (FROM BACKGROUND DESIGNER)
    BG 1
    BG COPY 0, 0,  32, 16 TO 0, 0
    BG 0
    BG COPY 0, 16, 32, 16 TO 0, 0

    'NOTIFY THE RASTER TO SCROLL THE LANDSCAPE
    ON RASTER CALL PARALLAXSCROLL
END SUB

'***************************************
'USE THE RASTER TO PERFORM DEEP PARALLAX
'SCROLLING
'***************************************
SUB PARALLAXSCROLL
    'DO SCROLL THE GRASS AND FENCE?
    IF RASTER >= SCROLLSTART AND RASTER <= SCROLLEND THEN
        'CALCULATE THE NEXT GRASS OFFSET (PER LINE)
        DEEP   = RASTER - (SCROLLSTART - 1)
        OFFSET = TIMER * SCROLLSPEED * (DEEP / 10)

        'SCROLL THE GRASS
        SCROLL 1, OFFSET, 0

        'CALCULATE THE NEXT FENCE OFFSET
        IF RASTER >= SCROLLEND - 8 THEN
            OFFSET = TIMER * SCROLLSPEED * (SCROLLHEIGHT / 10)
        END IF

        'SCROLL THE FENCE
        SCROLL 0, OFFSET, 0
    ELSE IF RASTER >= SCROLLSTART - 17 AND RASTER < SCROLLSTART THEN
        'SCROLL THE MOUNTAIN
        SCROLL 0, TIMER * SCROLLSPEED * 0.1, 0
        SCROLL 1, 0, 0
    ELSE
        'SCROLL THE CLOUDS
        SCROLL 0, TIMER * SCROLLSPEED * ((SCROLLSTART - RASTER) \ (SCROLLSTART / 6)) * 0.5, 0

        'STOP THE SCROLL ON THIS PART
        SCROLL 1, 0, 0
    END IF
END SUB

#1:MAIN PALETTES
063A19290029080400162636003A2A15
00252A1500382410002A000000000000

#2:MAIN CHARACTERS
00000000000000000000000000000000
FFFF000000FFFFFF0000FFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
BECB5588524822004134AA77ADB7DDFF
1002504612E75DFEFFFFFFFFFFFFFFFF
BAFDB3184210265145024CE7BDEFD9AE
8128425B2C1F4DF6FFFFFFFFFFFFFFFF
2010002D2608D408002030323F70580C
00016ED400000000000293FC00000000
0870C31E281010201098FC1730202030
0000A08D3A000000000040F23F000000
08180810C66514080010101839FF180C
00000000805865000000000000A07F00
00000000000000000000000000000000
0001040217040A000000020800110106
00C0A05040900452002018842A16F5FB
00000001030625AD0000000000010393
0000008060E062E500000040E0E0E1E3
080224403464150A00000002010B0205
004018C20178C6800000000128862000
0000482404A810000000000018560400
0003266566398A990001273E7F5FFDFF
00B3EE2566B90A9900B177FEFFDFFDFF
000000B366B90A99000000A2FFDFFDFF
00B0EC2666BA0A9900B074FCFEDEFCFF
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
10140508060500000503000005010100
09075E269CB8E0005FEF7EFEFCF8E000
D8D9F3EBFFFFFFFFF7E7EFDF9F7FFFFF
FBFAFBF9FEFFFFFFF7FFFFFFFFFFFFFF

#3:MAIN BG
00004020000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000E020F0200000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000001E021F0200000020
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000020000000200000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000020002000000000
00000000000000000000000000000000
00000000002000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000200020
00200020002000200020002000200020
00200020002000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000020002000200020
00200020002000200020002000200020
00200020000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000200020002000200020
00200020002000200020002000200020
00200020000000000020000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000002000200020002000200020
00200020002000200020002000200020
00000000000000000000000000000000
00000000000000000000000000000000
00200020002000200020002000200020
00200020000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000010201020102010201020102
01020102010201020102010201020102
01020102010201020102010201020102
01020102010201020102010201020102
01020102010201020102010201020102
01020102000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000002200020002000200020022
00220022002200220022002200220022
00220022000200020022000200200020
00000000002000200020002000200020
00200020002000200020002000200020
00200020000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000030003000300030003000300
03000300030003000300030003000300
03000300030003000300030003000300
03000300030003000300030003000300
03000300030003000300030003000300
03000300000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000040004000400040004000400
04000400040004000400040004000400
04000400040004000400040004000400
04000400040004000400040004000400
04000400040004000400040004000400
04000400000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000050105010501050105010501
05010501050105010501050105010501
05010501050105010501050105010501
05010501050105010501050105010501
05010501050105010501050105010501
05010501000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000060106010601060106010601
06010601060106010601060106010601
06010601060106010601060106010601
06010601060106010601060106010601
06010601060106010601060106010601
06010601000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000002000200020002000200020
00200020002000200020002000200020
00200020002000200020002000000000
00000000000000000000000000000000
00000020000000200020002000000020
00200000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000002000200000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000200000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000122213221422002012221322
14220020122213221422002012221322
14220020122213221422002012221322
14220000122213221422002012221322
14220000122213221422002012221322
14220020000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000222223222422002022222322
24220020222223222422242222222322
24220020222223222402240222222322
24220020222223222422002022222322
24220020222223222422002022222322
24222422000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000002000200020002032223322
34220020322233223422342232223322
34220020322233223422340232223322
34220020322233223422002032223322
34220020322233223422000032223322
34223422000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000122213221422002012221322
14220000122213221422002012221322
14220020122213221422000012221322
14220020122213221422002012221322
14220020122213221422000012221322
14220020000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000222223222422000022222302
24220020220223022402002022222322
24220000220223022402002022222322
24220020222223022422002022222322
24220020222223222422000022222322
24220020000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000002000200020002032223322
34220020320233023402002032223302
34020000320233023402002032223322
34220020322233223422002032223322
34220020322233223422002032223322
34220000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000122213221422002012221322
14220020122213221422002012221322
14220020122213221422002012221322
14220020122213221422002012221322
14220020122213221422002012221322
14220000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000222223222422002022222322
24220020222223222422242222222322
24222322222223222422002022222322
24220020222223222422002022222322
24020020222223222422222222222302
24220000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000102311231023112310231123
10231123102311231023112310231123
10231123102311231023112310231123
10231123102311231023112310231123
10231123102311231023112310231123
10231123000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000202321232023212320232123
20232123202321232023212320232123
20232123202321232023212320232123
20232123202321232023212320232123
20232123202321232023212320232123
20232123000000200000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000200000000000000000
00000000002000000020002000200000
00200020002000000000002000000000
00000000000000000020002000000000
00000000000000000000000000000020
00200000000000200000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000002000000000000000000000
00200000000000000000000000000000
00000000002000200020000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
000000000725082509250A250B250C25
15041604160417041604160417041604
160418040725082509250A250B250C25
15041604170417041604160417041604
170418040D040D040000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000

